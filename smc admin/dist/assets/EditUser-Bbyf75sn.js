import{r as x,u as F,a as L,b as D,c as O,j as e,A as U,o as k,F as z,y as H,d as M,e as r}from"./index-74p-botU.js";const Q=M().shape({fname:r().trim().required("First name is required").transform(l=>l.toLowerCase()),lname:r().required("Last name is required").transform(l=>l.toLowerCase()),email:r().email("Please Enter a valid Email").trim().required("Email is required"),phone:r().required("Please enter mob.no"),dob:r().required("Please enter Date of birth"),plan:r().oneOf(["monthly","quarterly","halfYearly","annual"],"Please select a valid plan").required("Please select a plan"),city:r().oneOf(["monthly","quarterly","halfYearly","annual"],"Please select a valid city").required("Please select a city"),state:r().oneOf(["monthly","quarterly","halfYearly","annual"],"Please select a valid state").required("Please select a state"),country:r().oneOf(["monthly","quarterly","halfYearly","annual"],"Please select a valid country").required("Please select a country"),zipcode:r().oneOf(["monthly","quarterly","halfYearly","annual"],"Please select a valid zip code").required("Please select a zip code"),addressline1:r().required("Address Line 1 is required"),addressline2:r().required("Address Line 2 is required")}),t=({label:l,register:u,name:h,type:d="text",error:n,...a})=>e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("label",{className:"text-lg",children:[l," ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{...u(h),type:d,className:"bg-white outline-none text-black rounded-md py-2 px-2",...a}),e.jsx("p",{className:"text-red-700",children:n})]}),m=({label:l,register:u,name:h,options:d,error:n})=>e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("label",{className:"text-lg",children:[l," ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative ",children:[e.jsxs("select",{defaultValue:"",...u(h),className:"w-full bg-white outline-none text-black rounded-md py-2 px-2",children:[e.jsxs("option",{value:"",disabled:!0,children:["Select ",l]}),d.map((a,p)=>e.jsx("option",{value:a.value,children:a.label},p))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-5 bg-gray-100 px-4 rounded-lg pointer-events-none outline-none",children:e.jsx(z,{className:"text-black text-2xl"})})]}),e.jsx("p",{className:"text-red-700",children:n})]}),I=()=>{var y,b,g,f,v,j,N,q,P,E,Y,A;const[l,u]=x.useState(!1),[h,d]=x.useState({}),n=F();x.useEffect(()=>{w()},[]);const{register:a,handleSubmit:p,setValue:o,formState:{errors:s}}=L({resolver:k(Q)}),w=async()=>{try{const i=await D.get(`${O}/api/getusersbyid?id=${userId}`),C=i.data.user;d(C);const c=i.data.user;o("fname",c.fname),o("lname",c.lname),o("dob",c.dob),o("email",c.email),o("phone",c.phone)}catch(i){console.log(i)}},S=async i=>{({...i},H.success("User updated successfully")),n("/users")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"font-poppins  h-full  mx-6",children:[e.jsx("p",{className:" mx-2 text-lg  mt-6",children:"Edit user"}),e.jsxs("form",{onSubmit:p(S),className:"mx-4 ",children:[e.jsxs("div",{className:"mx-6 grid gap-2 font-extralight my-8",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsx(t,{label:"First Name",register:a,name:"fname",placeholder:"Enter first name",error:(y=s.fname)==null?void 0:y.message}),e.jsx(t,{label:"Last Name",register:a,name:"lname",placeholder:"Enter last Name",error:(b=s.lname)==null?void 0:b.message}),e.jsx(t,{label:"Email",register:a,name:"email",placeholder:"Enter email",error:(g=s.email)==null?void 0:g.message})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsx(t,{label:"Phone",register:a,name:"phone",placeholder:"Enter phone",error:(f=s.phone)==null?void 0:f.message}),e.jsx(t,{label:"Date Of Birth",register:a,name:"dob",type:"date",error:(v=s.dob)==null?void 0:v.message}),e.jsx(m,{label:"Plan ",register:a,name:"plan",options:[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"halfYearly",label:"Half-Yearly"},{value:"annual",label:"Annual"}],error:(j=s.plan)==null?void 0:j.message})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsx(t,{label:"Address Line 1",register:a,name:"addressline1",placeholder:"Enter address line 1",error:(N=s.addressline1)==null?void 0:N.message}),e.jsx(t,{label:"Address Line 2",register:a,name:"addressline2",placeholder:"Enter address line 2",error:(q=s.addressline2)==null?void 0:q.message}),e.jsx(m,{label:"City ",register:a,name:"city",options:[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"halfYearly",label:"Half-Yearly"},{value:"annual",label:"Annual"}],error:(P=s.city)==null?void 0:P.message})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsx(m,{label:"State ",register:a,name:"state",options:[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"halfYearly",label:"Half-Yearly"},{value:"annual",label:"Annual"}],error:(E=s.state)==null?void 0:E.message}),e.jsx(m,{label:"Country ",register:a,name:"country",options:[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"halfYearly",label:"Half-Yearly"},{value:"annual",label:"Annual"}],error:(Y=s.city)==null?void 0:Y.message}),e.jsx(m,{label:"Zip Code ",register:a,name:"zipcode",options:[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"halfYearly",label:"Half-Yearly"},{value:"annual",label:"Annual"}],error:(A=s.zipcode)==null?void 0:A.message})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{type:"submit",className:`my-6 cursor-pointer text-white bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] px-8 py-1.5 rounded-md ${l?"opacity-50 cursor-not-allowed":""}`,disabled:l,children:l?e.jsxs("div",{className:"flex text-xl gap-2",children:[e.jsx(U,{className:"h-6 w-6 animate-spin"}),e.jsx("p",{children:"Updating...."})]}):"Update"}),e.jsx("p",{onClick:()=>n("/users"),className:" cursor-pointer text-black bg-white  py-1.5 px-4 rounded-md ",children:"Cancel"})]})]})]})})};export{I as default};

import{r as f,u as N,n as P,a as y,j as s,f as g,S as b,J as i,K as d,o as v,b as S,c as I,d as k,e as m,N as q}from"./index-BCH8vSHg.js";const z=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/,C=k().shape({newPassword:m().required("Password is required").min(6,"Password is too short - should be 6 chars minimum").matches(z,{message:" min 6 characters, 1 upper case letter, 1 lower case letter, 1 numeric digit"}),confirmPassword:m().required("Password is required").min(6,"Password is too short - should be 6 chars minimum").oneOf([q("newPassword"),null],"NewPassword and confirmPassword must match")}).required(),R=()=>{var o,c;const[e,t]=f.useState(!1),l=N(),x=P(),h=new URLSearchParams(x.search).get("token"),{register:a,handleSubmit:w,formState:{errors:r}}=y({resolver:v(C)}),p=async u=>{const j={password:u.confirmPassword,token:h};try{(await S.post(`${I}/api/reset-password`,j)).status===200&&l("/")}catch(n){console.log(n)}};return s.jsx(s.Fragment,{children:s.jsx("div",{className:" font-poppins flex justify-center h-screen items-center bg-[#300080]   ",children:s.jsxs("div",{className:"relative w-96 mx-1 bg-[#200098]  shadow-lg border-x-2 border-violet-950",children:[s.jsx("img",{src:g,alt:"Image",className:"absolute opacity-15 z-0"}),s.jsx("img",{src:b,alt:"Image",className:"mx-2 my-2"}),s.jsx("p",{className:"text-center text-white my-10",children:"Reset Password"}),s.jsx("form",{onSubmit:w(p),children:s.jsxs("div",{className:"grid gap-3 mx-10 my-6 ",children:[s.jsxs("label",{htmlFor:"",className:"text-white",children:["New Password ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx("input",{...a("newPassword"),type:e?"text":"password",placeholder:"Enter new password",required:!0,className:"py-1.5 z-10  rounded-md text-center text-black "}),s.jsx("p",{className:"text-red-700",children:(o=r.newPassword)==null?void 0:o.message}),s.jsx("div",{onClick:()=>t(!e),className:"flex justify-end items-center mx-4",children:s.jsx("p",{className:"absolute top-60 my-3 z-10 ",children:e?s.jsx(i,{}):s.jsx(d,{})})}),s.jsxs("label",{htmlFor:"",className:"text-white",children:["Confirm Password ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx("input",{...a("confirmPassword"),type:e?"text":"password",placeholder:"Enter confirm password",required:!0,className:"py-1.5 z-10  rounded-md text-center text-black"}),s.jsx("p",{className:"text-red-700",children:(c=r.confirmPassword)==null?void 0:c.message}),s.jsx("div",{onClick:()=>t(!e),className:"flex justify-end items-center mx-4",children:s.jsx("p",{className:"absolute bottom-80 my-4 z-10 ",children:e?s.jsx(i,{}):s.jsx(d,{})})}),s.jsx("div",{className:"flex justify-center  my-24",children:s.jsx("button",{type:"submit",className:" text-white bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] w-1/2 py-2 ",children:"Reset Password"})})]})}),s.jsxs("p",{className:"text-sm mt-10 text-center text-white font-extralight",children:["© PickMyCourse Developed with"," ",s.jsx("span",{className:"text-red-500",children:"❤"})," by SeenIT Pty Ltd"]})]})})})};export{R as default};

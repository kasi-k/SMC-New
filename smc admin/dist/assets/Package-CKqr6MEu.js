import{r as t,u as k,b as v,c as i,j as e,G as n,R as C,D as P}from"./index-DgKZBfYf.js";import{F as D,a as z}from"./index-CivD8aMW.js";const G=({permissions:a})=>{const x=a==null?void 0:a.includes("add"),u=a==null?void 0:a.includes("edit"),h=a==null?void 0:a.includes("delete");a==null||a.includes("view");const[r,j]=t.useState([]),[l,o]=t.useState(!1),[p,g]=t.useState(""),c=k();t.useEffect(()=>{m()},[l]);const m=async()=>{try{const d=(await v.get(`${i}/api/getsubscriptionplan`)).data.plans;j(d)}catch(s){console.log(s)}},f=s=>{g(`${i}/api/subscriptionplan/${s}`),o(!0)},y=()=>{o(!1)},N=()=>{c("/addpackage")},b=()=>{c("/adduserPackage")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" font-poppins flex justify-end mx-4 gap-4 my-3 ",children:[x&&e.jsxs("button",{onClick:N,className:" cursor-pointer flex items-center text-blue-950  bg-white px-4 py-1 rounded-md",children:[e.jsx(n,{})," Add package"]}),e.jsxs("button",{onClick:b,className:" cursor-pointer bg-gradient-to-r from-blue-900 to-fuchsia-600 px-4 py-1 flex items-center rounded-md",children:[e.jsx(n,{}),"Add user to package"]})]}),e.jsx("hr",{}),e.jsx("div",{className:"h-11/12 overflow-auto no-scrollbar ",children:e.jsx("div",{className:" grid  gap-2 my-6 mx-6  lg:grid-cols-9 md:grid-cols-6 ",children:r&&r.map((s,d)=>e.jsxs("div",{className:"col-span-3 bg-darkest-blue rounded-lg p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-end items-center gap-3 ",children:[u&&e.jsx("p",{onClick:()=>c("/editpackage",{state:{userId:s._id}}),children:e.jsx(D,{size:20})}),e.jsx("p",{children:e.jsx(z,{size:20})}),h&&e.jsx("p",{onClick:()=>{f(s._id)},children:e.jsx(C,{size:20})})]}),e.jsxs("div",{className:" grid  justify-center",children:[e.jsx("p",{className:" text-center capitalize font-semibold text-xl",children:s.packagename}),e.jsxs("p",{className:"capitalize font-medium text-lg",children:["â‚¹",s.inr," / ",s.duration]})]}),e.jsxs("div",{className:" text-sm text-gray-300  py-4 space-y-1",children:[e.jsxs("p",{className:" capitalize",children:["package id: ",s._id]}),e.jsxs("p",{className:"capitalize text-nowrap",children:["No Of Courses: ",s.course," "]}),e.jsxs("p",{children:[" No of subtopics: ",s.subtopic," "]}),e.jsxs("p",{children:[" Tax: ",s.subtopic," %Gst "]}),e.jsxs("p",{children:[" Razor Pay Id: ",s.paymentId," "]}),e.jsx("p",{children:" No Of Users: 1000 "}),e.jsxs("div",{className:"  pt-4 ",children:[e.jsx("p",{className:"font-extrabold",children:"Features"}),e.jsx("p",{className:"",children:"Theory & Image course"}),s.coursetype==="Theory & Image course"&&e.jsx("p",{children:"Theory & Image course "}),s.coursetype==="Video & Text Course"&&e.jsx("p",{children:"Theory & Video Course "}),s.studyGroupAccess==="Yes"&&e.jsx("p",{children:"Study Groups "}),s.preCourses==="Yes"&&e.jsx("p",{children:"Pre-Generated Courses"}),s.quizAccess==="Yes"&&e.jsx("p",{children:" Quiz"})]})]})]},d))})}),l&&e.jsx(P,{onClose:y,title:"package",onDelete:p})]})};export{G as default};

import{r as t,u as k,b as v,c as r,j as e,G as n,R as C,D}from"./index-74p-botU.js";import{F as P,a as z}from"./index-DOVOnbEU.js";const F=({permissions:s})=>{const x=s==null?void 0:s.includes("add"),u=s==null?void 0:s.includes("edit"),h=s==null?void 0:s.includes("delete");s==null||s.includes("view");const[l,p]=t.useState([]),[o,i]=t.useState(!1),[j,g]=t.useState(""),c=k();t.useEffect(()=>{f()},[o]);const f=async()=>{try{const d=(await v.get(`${r}/api/getsubscriptionplan`)).data.plans;p(d)}catch(a){console.log(a)}},m=a=>{g(`${r}/api/subscriptionplan/${a}`),i(!0)},b=()=>{i(!1)},y=()=>{c("/addpackage")},N=()=>{c("/adduserPackage")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" font-poppins flex justify-end mx-4 gap-4 my-3 ",children:[x&&e.jsxs("button",{onClick:y,className:" cursor-pointer flex items-center text-blue-950  bg-white px-4 py-1 rounded-md",children:[e.jsx(n,{})," Add package"]}),e.jsxs("button",{onClick:N,className:" cursor-pointer bg-gradient-to-r from-blue-900 to-fuchsia-600 px-4 py-1 flex items-center rounded-md",children:[e.jsx(n,{}),"Add user to package"]})]}),e.jsx("hr",{}),e.jsx("div",{className:"h-11/12 overflow-auto no-scrollbar ",children:e.jsx("div",{className:" grid  gap-4 my-6 mx-6  lg:grid-cols-9 md:grid-cols-6 ",children:l&&l.map((a,d)=>e.jsxs("div",{className:"col-span-3 bg-darkest-blue rounded-lg p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-end items-center gap-3 px-4 ",children:[u&&e.jsx("p",{onClick:()=>c("/editpackage",{state:{userId:a._id}}),children:e.jsx(P,{size:20})}),e.jsx("p",{children:e.jsx(z,{size:20})}),h&&e.jsx("p",{onClick:()=>{m(a._id)},children:e.jsx(C,{size:20})})]}),e.jsxs("div",{className:" grid  justify-center",children:[e.jsx("p",{className:" text-center capitalize font-semibold text-xl",children:a.packagename}),e.jsxs("p",{className:"capitalize font-medium text-lg",children:["â‚¹",a.inr," / ",a.duration]})]}),e.jsxs("div",{className:" text-sm px-6 py-4 space-y-1",children:[e.jsxs("p",{className:" capitalize",children:["package id: ",a._id]}),e.jsxs("p",{className:"capitalize text-nowrap",children:["No Of Courses:  ",a.course," "]}),e.jsxs("p",{children:[" No of subtopics: ",a.subtopic," "]}),e.jsxs("p",{children:[" Tax: ",a.subtopic," %Gst "]}),e.jsxs("div",{className:"py-4 space-y-1",children:["Features",e.jsx("p",{children:"Theory & Image course"}),a.coursetype!=="Video & Text Course"&&e.jsx("p",{className:"opacity-0",children:"Video Course not available."}),a.coursetype==="Video & Text Course"&&e.jsx("p",{children:"Theory & Video Course "})]})]})]},d))})}),o&&e.jsx(D,{onClose:b,title:"package",onDelete:j})]})};export{F as default};
